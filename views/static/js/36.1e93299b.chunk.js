(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[36],{628:function(e,t,c){"use strict";c.r(t);var a=c(531),n=c.n(a),r=c(532),i=c(528),s=c(607),l=c(527),o=c(524),d=c(533),u=c.n(d),j=c(603),b=c.n(j),v=c(1),m=c(530),h=c(558),x=c(22),O=Object(v.lazy)((function(){return c.e(51).then(c.bind(null,544))}));t.default=function(){var e=Object(v.useState)([]),t=Object(i.a)(e,2),c=t[0],a=t[1],d=Object(v.useState)(0),j=Object(i.a)(d,2),p=j[0],f=j[1],g=Object(v.useState)(0),N=Object(i.a)(g,2),y=N[0],Y=N[1],I=localStorage.userId,w=localStorage.role;return Object(v.useEffect)(Object(r.a)(n.a.mark((function e(){var t,c,r,i,s,l,o,d;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.get("".concat(m.a,"/api/users"));case 2:return r=e.sent,e.next=5,u.a.get("".concat(m.a,"/api/stores"));case 5:if(i=e.sent,"admin"!==w){e.next=13;break}return e.next=9,u.a.get("".concat(m.a,"/api/products/").concat(I));case 9:l=e.sent,Y(null===l||void 0===l||null===(s=l.data)||void 0===s?void 0:s.length),e.next=17;break;case 13:return e.next=15,u.a.get("".concat(m.a,"/api/products"));case 15:d=e.sent,Y(null===d||void 0===d||null===(o=d.data)||void 0===o?void 0:o.length);case 17:a(null===r||void 0===r||null===(t=r.data)||void 0===t?void 0:t.map((function(e){return{avatar:{src:"".concat(m.a,"/uploads/customer/").concat(null===e||void 0===e?void 0:e._id,"/").concat(null===e||void 0===e?void 0:e.avatar),avatar:null===e||void 0===e?void 0:e.avatar},user:{name:(null===e||void 0===e?void 0:e.firstName)+" "+(null===e||void 0===e?void 0:e.lastName),new:!1,registered:b()(null===e||void 0===e?void 0:e.createdAt).format("jYYYY/jM/jD")},country:{phoneNumber:null===e||void 0===e?void 0:e.phoneNumber,countryCode:null===e||void 0===e?void 0:e.countryCode,email:null===e||void 0===e?void 0:e.email},activity:b()(null===e||void 0===e?void 0:e.updatedAt).format("jYYYY/jM/jD")}}))),f(null===i||void 0===i||null===(c=i.data)||void 0===c?void 0:c.length);case 19:case"end":return e.stop()}}),e)}))),[]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(O,{users:c,stores:p,products:y}),"super_admin"===localStorage.role?Object(x.jsx)(o.vb,{children:Object(x.jsx)(o.C,{xs:!0,children:Object(x.jsxs)(o.p,{className:"mb-4",children:[Object(x.jsx)(o.t,{children:"\u0644\u06cc\u0633\u062a \u06a9\u0627\u0631\u0628\u0631\u0627\u0646"}),Object(x.jsx)(o.q,{children:Object(x.jsxs)(o.Db,{align:"middle",className:"mb-0 border",hover:!0,responsive:!0,children:[Object(x.jsx)(o.Hb,{color:"light",children:Object(x.jsxs)(o.Jb,{children:[Object(x.jsx)(o.Ib,{className:"text-center",children:Object(x.jsx)(l.a,{icon:s.a})}),Object(x.jsx)(o.Ib,{children:"\u06a9\u0627\u0631\u0628\u0631"}),Object(x.jsx)(o.Ib,{children:"\u0627\u06cc\u0645\u06cc\u0644"}),Object(x.jsx)(o.Ib,{children:"\u0634\u0645\u0627\u0631\u0647 \u0647\u0645\u0631\u0627\u0647"}),Object(x.jsx)(o.Ib,{children:"\u0641\u0639\u0627\u0644\u06cc\u062a"})]})}),Object(x.jsx)(o.Eb,{children:c.map((function(e,t){var c,a,n,r;return Object(x.jsxs)(o.Jb,{"v-for":"item in tableItems",children:[Object(x.jsx)(o.Gb,{className:"text-center",children:(null===e||void 0===e||null===(c=e.avatar)||void 0===c?void 0:c.avatar)&&Object(x.jsx)(o.h,{size:"md",src:e.avatar.src,status:e.avatar.status})}),Object(x.jsxs)(o.Gb,{children:[Object(x.jsx)("div",{children:e.user.name}),Object(x.jsxs)("div",{className:"small text-medium-emphasis",children:[Object(x.jsx)("span",{children:e.user.new?"\u06a9\u0627\u0631\u0628\u0631 \u062c\u062f\u06cc\u062f":""})," | \u062a\u0627\u0631\u06cc\u062e \u0639\u0636\u0648\u06cc\u062a: ",e.user.registered]})]}),Object(x.jsx)(o.Gb,{children:null===e||void 0===e||null===(a=e.country)||void 0===a?void 0:a.email}),Object(x.jsx)(o.Gb,{children:"".concat(null===e||void 0===e||null===(n=e.country)||void 0===n?void 0:n.phoneNumber," ").concat(null===e||void 0===e||null===(r=e.country)||void 0===r?void 0:r.countryCode,"+")}),Object(x.jsxs)(o.Gb,{children:[Object(x.jsx)("div",{className:"small text-medium-emphasis",children:"\u0622\u062e\u0631\u06cc\u0646 \u0628\u0631\u0648\u0632\u0631\u0633\u0627\u0646\u06cc"}),Object(x.jsx)("strong",{children:e.activity})]})]},t)}))})]})})]})})}):Object(x.jsx)(h.a,{})]})}}}]);
//# sourceMappingURL=36.1e93299b.chunk.js.map