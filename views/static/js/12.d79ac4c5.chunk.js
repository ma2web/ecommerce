(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[12],{618:function(e,t,c){"use strict";c.r(t);var a=c(528),n=c.n(a),r=c(529),i=c(527),s=c(619),l=c(523),d=c(522),o=c(526),u=c.n(o),j=c(595),b=c.n(j),v=c(1),m=c(524),h=c(555),x=c(22),O=Object(v.lazy)((function(){return c.e(14).then(c.bind(null,599))}));t.default=function(){var e=Object(v.useState)([]),t=Object(i.a)(e,2),c=t[0],a=t[1],o=Object(v.useState)(0),j=Object(i.a)(o,2),p=j[0],f=j[1],g=Object(v.useState)(0),N=Object(i.a)(g,2),y=N[0],Y=N[1],k=localStorage.userId,w=localStorage.role;return Object(v.useEffect)(Object(r.a)(n.a.mark((function e(){var t,c,r,i,s,l,d,o;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.get("".concat(m.a,"/api/users"));case 2:return r=e.sent,e.next=5,u.a.get("".concat(m.a,"/api/stores"));case 5:if(i=e.sent,"admin"!==w){e.next=13;break}return e.next=9,u.a.get("".concat(m.a,"/api/products/").concat(k));case 9:l=e.sent,Y(null===l||void 0===l||null===(s=l.data)||void 0===s?void 0:s.length),e.next=17;break;case 13:return e.next=15,u.a.get("".concat(m.a,"/api/products"));case 15:o=e.sent,Y(null===o||void 0===o||null===(d=o.data)||void 0===d?void 0:d.length);case 17:a(null===r||void 0===r||null===(t=r.data)||void 0===t?void 0:t.map((function(e){return{avatar:{src:"".concat(m.a,"/uploads/customer/").concat(null===e||void 0===e?void 0:e._id,"/").concat(null===e||void 0===e?void 0:e.avatar),avatar:null===e||void 0===e?void 0:e.avatar},user:{name:(null===e||void 0===e?void 0:e.firstName)+" "+(null===e||void 0===e?void 0:e.lastName),new:!1,registered:b()(null===e||void 0===e?void 0:e.createdAt).format("jYYYY/jM/jD")},country:{phoneNumber:null===e||void 0===e?void 0:e.phoneNumber,countryCode:null===e||void 0===e?void 0:e.countryCode,email:null===e||void 0===e?void 0:e.email},activity:b()(null===e||void 0===e?void 0:e.updatedAt).format("jYYYY/jM/jD")}}))),f(null===i||void 0===i||null===(c=i.data)||void 0===c?void 0:c.length);case 19:case"end":return e.stop()}}),e)}))),[]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(O,{users:c,stores:p,products:y}),"super_admin"===localStorage.role?Object(x.jsx)(d.T,{children:Object(x.jsx)(d.l,{xs:!0,children:Object(x.jsxs)(d.h,{className:"mb-4",children:[Object(x.jsx)(d.k,{children:"\u0644\u06cc\u0633\u062a \u06a9\u0627\u0631\u0628\u0631\u0627\u0646"}),Object(x.jsx)(d.i,{children:Object(x.jsxs)(d.bb,{align:"middle",className:"mb-0 border",hover:!0,responsive:!0,children:[Object(x.jsx)(d.eb,{color:"light",children:Object(x.jsxs)(d.gb,{children:[Object(x.jsx)(d.fb,{className:"text-center",children:Object(x.jsx)(l.a,{icon:s.a})}),Object(x.jsx)(d.fb,{children:"\u06a9\u0627\u0631\u0628\u0631"}),Object(x.jsx)(d.fb,{children:"\u0627\u06cc\u0645\u06cc\u0644"}),Object(x.jsx)(d.fb,{children:"\u0634\u0645\u0627\u0631\u0647 \u0647\u0645\u0631\u0627\u0647"}),Object(x.jsx)(d.fb,{children:"\u0641\u0639\u0627\u0644\u06cc\u062a"})]})}),Object(x.jsx)(d.cb,{children:c.map((function(e,t){var c,a,n,r;return Object(x.jsxs)(d.gb,{"v-for":"item in tableItems",children:[Object(x.jsx)(d.db,{className:"text-center",children:(null===e||void 0===e||null===(c=e.avatar)||void 0===c?void 0:c.avatar)&&Object(x.jsx)(d.b,{size:"md",src:e.avatar.src,status:e.avatar.status})}),Object(x.jsxs)(d.db,{children:[Object(x.jsx)("div",{children:e.user.name}),Object(x.jsxs)("div",{className:"small text-medium-emphasis",children:[Object(x.jsx)("span",{children:e.user.new?"\u06a9\u0627\u0631\u0628\u0631 \u062c\u062f\u06cc\u062f":""})," | \u062a\u0627\u0631\u06cc\u062e \u0639\u0636\u0648\u06cc\u062a: ",e.user.registered]})]}),Object(x.jsx)(d.db,{children:null===e||void 0===e||null===(a=e.country)||void 0===a?void 0:a.email}),Object(x.jsx)(d.db,{children:"".concat(null===e||void 0===e||null===(n=e.country)||void 0===n?void 0:n.phoneNumber," ").concat(null===e||void 0===e||null===(r=e.country)||void 0===r?void 0:r.countryCode,"+")}),Object(x.jsxs)(d.db,{children:[Object(x.jsx)("div",{className:"small text-medium-emphasis",children:"\u0622\u062e\u0631\u06cc\u0646 \u0628\u0631\u0648\u0632\u0631\u0633\u0627\u0646\u06cc"}),Object(x.jsx)("strong",{children:e.activity})]})]},t)}))})]})})]})})}):Object(x.jsx)(h.a,{})]})}}}]);
//# sourceMappingURL=12.d79ac4c5.chunk.js.map